查看锁表情况

```sql
> show status like 'Table%';
+----------------------------+--------+
| Variable_name              | Value  |
+----------------------------+--------+
| Table_locks_immediate      | 135237 |
| Table_locks_waited         | 0      |
| Table_open_cache_hits      | 0      |
| Table_open_cache_misses    | 0      |
| Table_open_cache_overflows | 0      |
+----------------------------+--------+

5 rows in set
```

- `Table_locks_immediate` 指的是能够立即获得表级锁的次数
- `Table_locks_waited` 指的是不能立即获取表级锁而需要等待的次数，如果数量大，说明锁等待多，有锁争用情况

查看正在被锁定的的表

```bash
> show OPEN TABLES where In_use > 0;
```



其它关于查看死锁的命令：

1：查看当前的事务

```sql
SELECT * FROM INFORMATION_SCHEMA.INNODB_TRX;
```

2：查看当前锁定的事务

```sql
SELECT * FROM INFORMATION_SCHEMA.INNODB_LOCKS;
```

3：查看当前等锁的事务

````sql
SELECT * FROM INFORMATION_SCHEMA.INNODB_LOCK_WAITS;
````

查询是否锁表

```bash

```

